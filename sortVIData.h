/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ class sortVIData
/*     */ {
/*     */   public int sortVIData(ibisModel model_p, ibisVItable pullupData_p, ibisVItable pulldownData_p, ibisVItable powerClampData_p, ibisVItable gndClampData_p) {
/* 491 */     ibisTypMinMax Vcc = new ibisTypMinMax();
/* 492 */     ibisTypMinMax Gnd = new ibisTypMinMax();
/* 493 */     ibisTypMinMax sweepStart = new ibisTypMinMax();
/* 494 */     double sweepRange = 0.0D;
/* 495 */     double sweepStep = 0.0D;
/* 496 */     double diodeDrop = 0.0D;
/* 497 */     int numLinearPts = 0;
/* 498 */     int numTablePts = 0;
/* 499 */     int VITableSize = 0;
/* 500 */     int increment = 0;
/* 501 */     int numInnerPts = 0;
/* 502 */     int pointsToSkip = 0;
/* 503 */     int currentMarker = 0;
/* 504 */     int i = 0;
/* 505 */     int j = 0;
/* 506 */     setupVoltages setupV = new setupVoltages();
/*     */     
/* 508 */     if (goodies.IS_ECL(model_p.modelType)) {
/* 509 */       numLinearPts = 0;
/*     */     } else {
/* 511 */       numLinearPts = 10;
/*     */     } 
/* 513 */     if (pullupData_p != null) {
/*     */       
/* 515 */       setupV.setupVoltages(0, model_p);
/* 516 */       sweepStep = setupV.sweepStep;
/* 517 */       sweepRange = setupV.sweepRange;
/* 518 */       diodeDrop = setupV.diodeDrop;
/* 519 */       sweepStart = setupV.sweepStart;
/* 520 */       Vcc = setupV.Vcc;
/* 521 */       Gnd = setupV.Gnd;
/*     */       
/* 523 */       if (goodies.IS_ECL(model_p.modelType)) {
/*     */         
/* 525 */         numInnerPts = goodies.ROUND(goodies.fabs(sweepRange / sweepStep)) + 1;
/* 526 */         pointsToSkip = 0;
/*     */       }
/*     */       else {
/*     */         
/* 530 */         numInnerPts = goodies.ROUND(goodies.fabs(Vcc.typ - Gnd.typ + 
/* 531 */               2.0D * diodeDrop) / sweepStep) + 1;
/* 532 */         pointsToSkip = goodies.ROUND(goodies.fabs(sweepRange - 
/* 533 */               Vcc.typ - Gnd.typ + 2.0D * diodeDrop) / 
/* 534 */             2.0D * sweepStep * numLinearPts);
/*     */       } 
/*     */       
/* 537 */       numTablePts = (int)goodies.fabs(sweepRange / sweepStep) + 1;
/* 538 */       if (pullupData_p.size <= numTablePts) {
/*     */         
/* 540 */         VITableSize = pullupData_p.size;
/* 541 */         pointsToSkip = 1;
/* 542 */         numLinearPts = 5;
/* 543 */         numInnerPts = pullupData_p.size - 10;
/* 544 */         increment = numInnerPts;
/*     */       }
/*     */       else {
/*     */         
/* 548 */         VITableSize = numTablePts;
/* 549 */         increment = numInnerPts;
/*     */       } 
/*     */       
/* 552 */       model_p.pullup = new ibisVItable();
/* 553 */       model_p.pullup.VIs = new ibisVItableEntry[VITableSize];
/* 554 */       if (numTablePts == 0) {
/* 555 */         model_p.pullup.size = 100;
/*     */       } else {
/* 557 */         model_p.pullup.size = VITableSize;
/*     */       } 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */       
/* 565 */       for (i = 0; i < pullupData_p.size; i++) {
/* 566 */         (pullupData_p.VIs[i]).v = Vcc.typ - (pullupData_p.VIs[i]).v;
/*     */       }
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */       
/* 605 */       System.out.println("\n numTablePts :" + numTablePts);
/* 606 */       System.out.println("\n pullupData_p.size :" + pullupData_p.size);
/*     */       
/* 608 */       j = pullupData_p.size - 1;
/* 609 */       for (i = 0; i < numTablePts; i++) {
/*     */         
/* 611 */         model_p.pullup.VIs[i] = pullupData_p.VIs[j];
/* 612 */         j--;
/*     */       } 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */       
/* 630 */       if (model_p.derateVIPct != 0.0D) {
/* 631 */         for (i = 0; i < VITableSize; i++) {
/*     */           
/* 633 */           if (!goodies.IS_USE_NA((model_p.pullup.VIs[i]).i.min)) {
/* 634 */             (model_p.pullup.VIs[i]).i.min = (model_p.pullup.VIs[i]).i.min - (model_p.pullup.VIs[i]).i.min * 
/* 635 */               model_p.derateVIPct / 100.0D;
/*     */           }
/* 637 */           if (!goodies.IS_USE_NA((model_p.pullup.VIs[i]).i.max)) {
/* 638 */             (model_p.pullup.VIs[i]).i.max = (model_p.pullup.VIs[i]).i.max + (model_p.pullup.VIs[i]).i.max * 
/* 639 */               model_p.derateVIPct / 100.0D;
/*     */           }
/*     */         } 
/*     */       }
/*     */     } 
/*     */ 
/*     */     
/* 646 */     if (pulldownData_p != null) {
/*     */       
/* 648 */       setupV.setupVoltages(1, model_p);
/*     */       
/* 650 */       sweepStep = setupV.sweepStep;
/* 651 */       sweepRange = setupV.sweepRange;
/* 652 */       diodeDrop = setupV.diodeDrop;
/* 653 */       sweepStart = setupV.sweepStart;
/* 654 */       Vcc = setupV.Vcc;
/* 655 */       Gnd = setupV.Gnd;
/*     */       
/* 657 */       if (goodies.IS_ECL(model_p.modelType)) {
/*     */         
/* 659 */         numInnerPts = goodies.ROUND(goodies.fabs(sweepRange / sweepStep)) + 1;
/* 660 */         pointsToSkip = 0;
/*     */       }
/*     */       else {
/*     */         
/* 664 */         numInnerPts = goodies.ROUND(goodies.fabs(Vcc.typ - Gnd.typ + 2.0D * diodeDrop) / 
/* 665 */             sweepStep) + 1;
/* 666 */         pointsToSkip = goodies.ROUND(goodies.fabs(sweepRange - 
/* 667 */               Vcc.typ - Gnd.typ + 2.0D * diodeDrop) / 
/* 668 */             2.0D * sweepStep * numLinearPts);
/*     */       } 
/*     */       
/* 671 */       numTablePts = (int)goodies.fabs(sweepRange / sweepStep) + 1;
/* 672 */       if (pulldownData_p.size <= numTablePts) {
/*     */ 
/*     */         
/* 675 */         VITableSize = pulldownData_p.size;
/* 676 */         pointsToSkip = 1;
/* 677 */         numLinearPts = 5;
/* 678 */         numInnerPts = pulldownData_p.size - 10;
/* 679 */         increment = numInnerPts;
/*     */       }
/*     */       else {
/*     */         
/* 683 */         VITableSize = numTablePts;
/* 684 */         increment = numInnerPts;
/*     */       } 
/*     */       
/* 687 */       model_p.pulldown = new ibisVItable();
/* 688 */       model_p.pulldown.VIs = new ibisVItableEntry[VITableSize];
/* 689 */       if (numTablePts == 0) {
/* 690 */         model_p.pulldown.size = 100;
/*     */       } else {
/* 692 */         model_p.pulldown.size = VITableSize;
/*     */       } 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */       
/* 735 */       j = 0;
/* 736 */       for (i = currentMarker; i < numTablePts; i++) {
/*     */         
/* 738 */         model_p.pulldown.VIs[i] = pulldownData_p.VIs[j];
/* 739 */         j++;
/*     */       } 
/*     */       
/* 742 */       model_p.pulldown.VIs[model_p.pulldown.size - 1] = 
/* 743 */         pulldownData_p.VIs[pulldownData_p.size - 1];
/*     */       
/* 745 */       if (model_p.derateVIPct != 0.0D)
/*     */       {
/* 747 */         for (i = 0; i < VITableSize; i++) {
/*     */           
/* 749 */           if (!goodies.IS_USE_NA((model_p.pulldown.VIs[i]).i.min)) {
/* 750 */             (model_p.pulldown.VIs[i]).i.min = (model_p.pulldown.VIs[i]).i.min - (model_p.pulldown.VIs[i]).i.min * 
/* 751 */               model_p.derateVIPct / 100.0D;
/*     */           }
/* 753 */           if (!goodies.IS_USE_NA((model_p.pulldown.VIs[i]).i.max)) {
/* 754 */             (model_p.pulldown.VIs[i]).i.max = (model_p.pulldown.VIs[i]).i.max + (model_p.pulldown.VIs[i]).i.max * 
/* 755 */               model_p.derateVIPct / 100.0D;
/*     */           }
/*     */         } 
/*     */       }
/*     */     } 
/*     */ 
/*     */     
/* 762 */     if (powerClampData_p != null) {
/*     */       
/* 764 */       setupV.setupVoltages(2, model_p);
/*     */       
/* 766 */       sweepStep = setupV.sweepStep;
/* 767 */       sweepRange = setupV.sweepRange;
/* 768 */       diodeDrop = setupV.diodeDrop;
/* 769 */       sweepStart = setupV.sweepStart;
/* 770 */       Vcc = setupV.Vcc;
/* 771 */       Gnd = setupV.Gnd;
/*     */ 
/*     */       
/* 774 */       numTablePts = (int)(goodies.fabs(sweepRange / sweepStep) + 1.0D);
/* 775 */       model_p.power_clamp = new ibisVItable();
/* 776 */       model_p.power_clamp.VIs = new ibisVItableEntry[numTablePts];
/*     */ 
/*     */       
/* 779 */       for (int m = 0; m < numTablePts; m++)
/*     */       {
/* 781 */         model_p.power_clamp.VIs[m] = new ibisVItableEntry();
/*     */       }
/*     */       
/* 784 */       if (numTablePts == 0) {
/* 785 */         model_p.power_clamp.size = 100;
/*     */       } else {
/* 787 */         model_p.power_clamp.size = numTablePts;
/*     */       } 
/* 789 */       i = numTablePts - 1;
/*     */       
/* 791 */       j = 0;
/* 792 */       while (i >= 0 && (powerClampData_p.VIs[i]).v >= Vcc.typ) {
/*     */         
/* 794 */         (model_p.power_clamp.VIs[j]).v = Vcc.typ - (powerClampData_p.VIs[i]).v;
/* 795 */         (model_p.power_clamp.VIs[j]).i.typ = (powerClampData_p.VIs[i]).i.typ;
/* 796 */         (model_p.power_clamp.VIs[j]).i.min = (powerClampData_p.VIs[i]).i.min;
/* 797 */         (model_p.power_clamp.VIs[j]).i.max = (powerClampData_p.VIs[i]).i.max;
/* 798 */         i--;
/* 799 */         j++;
/*     */       } 
/*     */       
/* 802 */       if (model_p.derateVIPct != 0.0D) {
/* 803 */         for (i = 0; i < numTablePts; i++) {
/*     */           
/* 805 */           if (!goodies.IS_USE_NA((model_p.power_clamp.VIs[i]).i.min)) {
/* 806 */             (model_p.power_clamp.VIs[i]).i.min = (model_p.power_clamp.VIs[i]).i.min - (model_p.power_clamp.VIs[i]).i.min * 
/* 807 */               model_p.derateVIPct / 100.0D;
/*     */           }
/* 809 */           if (!goodies.IS_USE_NA((model_p.power_clamp.VIs[i]).i.max)) {
/* 810 */             (model_p.power_clamp.VIs[i]).i.max = (model_p.power_clamp.VIs[i]).i.max + (model_p.power_clamp.VIs[i]).i.max * 
/* 811 */               model_p.derateVIPct / 100.0D;
/*     */           }
/*     */         } 
/*     */       }
/*     */     } 
/*     */ 
/*     */     
/* 818 */     if (gndClampData_p != null) {
/*     */       
/* 820 */       setupV.setupVoltages(3, model_p);
/* 821 */       sweepStep = setupV.sweepStep;
/* 822 */       sweepRange = setupV.sweepRange;
/* 823 */       diodeDrop = setupV.diodeDrop;
/* 824 */       sweepStart = setupV.sweepStart;
/* 825 */       Vcc = setupV.Vcc;
/* 826 */       Gnd = setupV.Gnd;
/*     */ 
/*     */ 
/*     */       
/* 830 */       numTablePts = (int)(goodies.fabs(sweepRange / sweepStep) + 1.0D);
/*     */       
/* 832 */       model_p.gnd_clamp = new ibisVItable();
/* 833 */       model_p.gnd_clamp.VIs = new ibisVItableEntry[numTablePts];
/*     */ 
/*     */       
/* 836 */       for (int m = 0; m < numTablePts; m++)
/*     */       {
/* 838 */         model_p.gnd_clamp.VIs[m] = new ibisVItableEntry();
/*     */       }
/*     */       
/* 841 */       if (numTablePts == 0) {
/* 842 */         model_p.gnd_clamp.size = 100;
/*     */       } else {
/* 844 */         model_p.gnd_clamp.size = numTablePts;
/*     */       } 
/* 846 */       j = 0;
/* 847 */       while (j < numTablePts && (gndClampData_p.VIs[j]).v <= Vcc.typ) {
/*     */         
/* 849 */         model_p.gnd_clamp.VIs[j] = gndClampData_p.VIs[j];
/* 850 */         j++;
/*     */       } 
/*     */       
/* 853 */       if (model_p.derateVIPct != 0.0D)
/* 854 */         for (i = 0; i < numTablePts; i++) {
/*     */           
/* 856 */           if (!goodies.IS_USE_NA((model_p.gnd_clamp.VIs[i]).i.min)) {
/* 857 */             (model_p.gnd_clamp.VIs[i]).i.min = (model_p.gnd_clamp.VIs[i]).i.min - (model_p.gnd_clamp.VIs[i]).i.min * 
/* 858 */               model_p.derateVIPct / 100.0D;
/*     */           }
/* 860 */           if (!goodies.IS_USE_NA((model_p.gnd_clamp.VIs[i]).i.max)) {
/* 861 */             (model_p.gnd_clamp.VIs[i]).i.max = (model_p.gnd_clamp.VIs[i]).i.max + (model_p.gnd_clamp.VIs[i]).i.max * 
/* 862 */               model_p.derateVIPct / 100.0D;
/*     */           }
/*     */         }  
/*     */     } 
/* 866 */     return 0;
/*     */   }
/*     */ }


/* Location:              D:\IBIS\s2ibis3_v1_1\java\!\sortVIData.class
 * Java compiler version: 8 (52.0)
 * JD-Core Version:       1.1.3
 */